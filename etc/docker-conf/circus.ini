[circus]
check_delay = 5

[env]
SOLR_OPTS=-Dsolr.dns.prevent.reverse.lookup=true

[watcher:solr]
cmd = bin/solr
args = start -f -force
working_dir = solr-8.6.1
warmup_delay = 0
numprocesses = 1
singleton = True

[watcher:pombase-server]
cmd = /pombase/bin/pombase-server
args = -c /pombase/pombase_v2_config.json -m /var/www/html/web-json/api_maps.json.gz -w /var/www/html/ --site-db="postgresql://pombase:pombase@$(CIRCUS.ENV.HOST_IP_ADDRESS)/pombase-website"
copy_env = True
working_dir = .
warmup_delay = 0
numprocesses = 1
singleton = True

[watcher:pombase-python-web]
cmd = /usr/local/bin/gunicorn
args = --workers 4 -e PEPTIDE_PATH=/pombase/feature_sequences/peptide.fa -e WEBSITE_CONFIG_JSON_PATH=/pombase/pombase_v2_config.json --bind '127.0.0.1:8999' pombase.wsgi
working_dir = /pombase/pombase-python-web/
copy_env = True
numprocesses = 1
singleton = True
