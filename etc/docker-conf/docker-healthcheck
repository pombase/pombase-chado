#!/bin/sh -

(curl -s -f http://localhost:8500/ && \
 curl -s -f 'http://localhost:8500/api/v1/dataset/latest/complete/ref/enzyme' \
   -H 'accept: application/json, text/plain, */*' | jq . | grep -i pombe && \
 curl -s -f 'http://localhost:8500/api/v1/dataset/latest/complete/term/(molecular_function%20OR%20cellular_component)/enzyme%20binding' \
   -H 'accept: application/json, text/plain, */*' | jq . | grep -i 'Interacting selectively and non-covalently' && \
 curl -s -f 'http://localhost:8500/api/v1/dataset/latest/complete/term/mondo/inherited' \
   -H 'accept: application/json, text/plain, */*' | jq . | grep -i disorder && \
 curl -s -f http://localhost:8983/ && \
 curl -s -f http://localhost:8999/motifsearch/ping/ || exit 1) > /dev/null
